#---------------------------------------------------------------------------------------------------
# ‘æ‚SÍ
# Ô‰”•M‚ÆƒTƒCƒRƒ‚ğ‚»‚ê‚¼‚êA“]‚ª‚µ‚ÄA1–œŒÂ‚Ìƒf[ƒ^‚ğ“¾‚ÄA‚»‚ÌƒqƒXƒgƒOƒ‰ƒ€‚ğ•`‚­B‚Ü‚½A
# ³‹KŠm—¦•Ï”‚Ì«¿‚ğ’²‚×‚é
#   ‹æŠÔ@(ƒÊ-1.96ƒĞ,ƒÊ+1.96ƒĞ)@‚É95“‚ªÀŒ»‚·‚é‚©
#---------------------------------------------------------------------------------------------------

import pandas as pd
import numpy as np
from numpy.random import *
import matplotlib.pyplot as plt

#---------------------------------------------------------------------------------------------------
# Ô‰”•M‚ÆƒTƒCƒRƒ‚ğ‚»‚ê‚¼‚êA“]‚ª‚µ‚ÄA1–œŒÂ‚Ìƒf[ƒ^‚ğ“¾‚ÄA‚»‚ÌƒqƒXƒgƒOƒ‰ƒ€‚ğ•`‚­
#---------------------------------------------------------------------------------------------------
# Ô‰”•MEƒTƒCƒRƒ‚ğ“]‚ª‚·‰ñ”n
n=10000 

# ƒTƒCƒRƒ‚ğ1–œ‰ñ“]‚ª‚µ‚ÄA‚»‚ÌƒqƒXƒgƒOƒ‰ƒ€‚ğ•`‚­
pd.Series([1,2,3,4,5,6]).sample(n,replace=True).plot(kind='hist', fontsize=20,title='ƒTƒCƒRƒ‚ÌƒqƒXƒgƒOƒ‰ƒ€')  
plt.show()

# Ô‰”•M‚ğ1–œ‰ñ“]‚ª‚µ‚ÄA‚»‚ÌƒqƒXƒgƒOƒ‰ƒ€‚ğ•`‚­
pd.Series(rand(n)).plot(kind='hist',fontsize=20,title='Ô‰”•MR‚ÌƒqƒXƒgƒOƒ‰ƒ€') 
plt.show()

# •W€³‹KŠm—¦•Ï”‚Æ‚¢‚¤ƒTƒCƒRƒ‚ğ1–œ‰ñA“]‚ª‚µ‚ÄA‚»‚ÌƒqƒXƒgƒOƒ‰ƒ€‚ğ•`‚­
pd.Series(randn(n)).plot(kind='hist',fontsize=20,title='Ô‰”•MR‚ÌƒqƒXƒgƒOƒ‰ƒ€') 
plt.show()



#---------------------------------------------------------------------------------------------------
# ³‹KŠm—¦•Ï”‚Ì«¿‚ğ’²‚×‚é
#   ‹æŠÔ@(ƒÊ-1.96ƒĞ,ƒÊ+1.96ƒĞ)@‚É95“‚ªÀŒ»‚·‚é‚©
#---------------------------------------------------------------------------------------------------

# •½‹ÏƒÊ‚Æ•W€•Î·ƒĞ‚Ìİ’è
myu=10
sigma=5

# n:³‹K—”‚ÌŒÂ”
n=10000

# ³‹K—”‚ª‹æŠÔ(ƒÊ-1.96ƒĞ,ƒÊ+1.96ƒĞ)‚É“ü‚Á‚Ä‚¢‚é‚©”Û‚©‚Ì”»’è‚ğ‚·‚éƒ‰ƒ€ƒ_ŠÖ”‚Ì’è‹`
hantei = (lambda x: '“ü‚Á‚Ä‚¢‚é' if (x>=myu-1.96*sigma) & (x<=myu+1.96*sigma) 
                    else '“ü‚Á‚Ä‚¢‚È‚¢')

# ³‹K—”‚Ì¶¬
dff=pd.DataFrame(normal(myu,sigma,n),columns=['³‹K—”'])

# ƒqƒXƒgƒOƒ‰ƒ€ì¬
#dff['³‹K—”'].plot(kind='hist', fontsize=20,title='³‹K—”‚ÌƒqƒXƒgƒOƒ‰ƒ€',
#bins=[i for i in range(myu-3*sigma,myu+3*sigma)]) 
dff['³‹K—”'].plot(kind='hist', fontsize=20,title='³‹K—”‚ÌƒqƒXƒgƒOƒ‰ƒ€',
                        bins=[(myu-3*sigma)+i*(6*sigma/41) for i in range(41)]) 
plt.show()

# ³‹K—”‚ª‹æŠÔ(ƒÊ-1.96ƒĞ,ƒÊ+1.96ƒĞ)‚É“ü‚Á‚Ä‚¢‚é‚©”Û‚©‚Ì”»’è
dff['”»’è']=dff.applymap(hantei) # dff‚ÌŠe—v‘f‚Éhantei‚ğ“K—p‚·‚é‚Ì‚Å(x)‚Í•s—v

# ã‹L‚Ì”»’èŒ‹‰Ê‚ÌƒNƒƒX•\
pd.crosstab(dff['”»’è'],columns='Š„‡(%)',normalize=True)*100
